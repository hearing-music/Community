<div class="monitoring-mv">
	<div class="home-top">
		<div style="display: flex;align-items: center;">
			<!-- 搜索 -->
			<ngx-search [searchValue]='keyword' searchHolder='歌曲名模糊查询' (childSearch)='search($event)'
				[searchWidth]='"390px"'>
			</ngx-search>
		</div>
	</div>
	<nz-empty *ngIf="data.length==0" style="margin-top: 160px;"></nz-empty>
	<div style="height: 100%;">
		<nz-table style='margin-top: 24px;' #nestedTable [nzData]="data" nzTitle='' [nzFrontPagination]='false'>
			<thead>
				<tr>
					<th nzAlign='center'></th>
					<th nzAlign='center'>ID</th>
					<th nzAlign='center'>歌曲名</th>
					<th nzAlign='center'>歌曲版本</th>
					<th nzAlign='center'>歌手</th>
					<th nzAlign='center'>词作者</th>
					<th nzAlign='center'>曲作者</th>
					<th nzAlign='center'>发行时间</th>
					<th nzAlign='center'>加入时间</th>
				</tr>
			</thead>
			<tbody>
				<ng-template ngFor let-item [ngForOf]="nestedTable.data">
					<tr>
						<td [(nzExpand)]="item.expand"></td>
						<td nzAlign='center'>
							<div class="flexCcenter">
								<div class="qq" *ngIf='item.QQ.Mid'>
									<div>
										{{item.QQ.Mid}}
									</div>
									<div (click)="openMvQQ(item.QQ.Mid)" class="linkIcon" style="margin-left: 8px;">
										<span nz-icon nzType="select" nzTheme="outline" style="color:#35C035;font-size: 14px;"></span>
									</div>
								</div>
								<div class='kg' *ngIf='item.KG.Mid'>
									<div>
										{{item.KG.Mid}}
									</div>
									<div (click)="openMvKG(item.KG.Mid)" class="linkIcon" style="margin-left: 8px;">
										<span nz-icon nzType="select" nzTheme="outline" style="color:#blue;font-size: 14px;"></span>
									</div>
								</div>
							</div>
						</td>
						<td nzAlign='center'>
							{{item.QQ.SongName || item.KG.SongName}}
						</td>
						<td nzAlign='center'>
							{{item.QQ.Releases || item.KG.Releases}}
						</td>
						<td nzAlign='center'>
							<div *ngIf='item.QQ.SingerName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.QQ.SingerName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.QQ.SingerName.length-1'>，</span>
								</div>
							</div>
							<div *ngIf='item.KG.SingerName&&!item.QQ.SingerName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.KG.SingerName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.KG.SingerName.length-1'>，</span>
								</div>
							</div>
						</td>
						<td nzAlign='center'>
							<div *ngIf='item.QQ.LyricsAuthorName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.QQ.LyricsAuthorName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.QQ.LyricsAuthorName.length-1'>，</span>
								</div>
							</div>
							<div *ngIf='item.KG.LyricsAuthorName&&!item.QQ.LyricsAuthorName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.KG.LyricsAuthorName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.KG.LyricsAuthorName.length-1'>，</span>
								</div>
							</div>
						</td>
						<td nzAlign='center'>
							<div *ngIf='item.QQ.SongAuthorName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.QQ.SongAuthorName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.QQ.SongAuthorName.length-1'>，</span>
								</div>
							</div>
							<div *ngIf='item.KG.SongAuthorName&&!item.QQ.SongAuthorName' style="display: flex;justify-content: center;">
								<div *ngFor='let singer of item.KG.SongAuthorName;let i = index;'>
									<span>{{singer}}</span>
									<span *ngIf='i != item.KG.SongAuthorName.length-1'>，</span>
								</div>
							</div>
						</td>
						<td nzAlign='center'>
							{{common.getDate(item.QQ.ReleaseDate||item.KG.ReleaseDate)}}
						</td>
						<td nzAlign='center'>
							<div class="flexCcenter">
								<div class="qq" *ngIf='item.QQ.AddTime'>
									{{common.getDate(item.QQ.AddTime)}}
								</div>
								<div class='kg' *ngIf='item.KG.AddTime'>
									{{common.getDate(item.KG.AddTime)}}
								</div>
							</div>
						</td>
					</tr>
					<tr [nzExpand]="item.expand">
						<div style="display: flex;">
							<div *ngIf='item.QQ.echarts' style="flex:1;">
								<div echarts [options]="item.QQ.echarts" style="width: 100%; height: 240px;"></div>
							</div>
							<div *ngIf='item.KG.echarts' style="flex:1;">
								<div echarts [options]="item.KG.echarts" style="width: 100%; height: 240px;"></div>
							</div>
						</div>
					</tr>
				</ng-template>
			</tbody>
		</nz-table>
	</div>
	<div style="display: flex;justify-content: center;padding-bottom: 10px;" *ngIf='data.length>0'>
		<nz-pagination [nzPageIndex]="page" [nzPageSize]='pageSize' [nzTotal]="pageTotal"
			(nzPageIndexChange)='nzPageIndexChange($event)' nzShowQuickJumper></nz-pagination>
	</div>
	<!-- loading -->
	<ngx-loading *ngIf='loading'></ngx-loading>
</div>