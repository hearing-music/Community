<div class="douyin">

	<div style="display: flex;align-items: center;">
		<ngx-search [searchValue]='searchValue' [searchHolder]='type=="链接搜索"?searchHolder+"链接":searchHolder+"ID"' (childSearch)='search($event)'>
		</ngx-search>
		<div style="margin-left: 12px;">
			<nz-select [(ngModel)]="type">
				<nz-option *ngFor="let l of typeList;" [nzValue]="l.value" [nzLabel]="l.label"></nz-option>
			</nz-select>
		</div>
	</div>
	<nz-empty *ngIf="!result.BloggerInfo" style="margin-top: 160px;"></nz-empty>
	<!-- 视频信息 -->
	<div class="list" *ngIf='result.createTime'>
		<div style="margin-bottom: 12px;">
			视频信息：
		</div>
		<div class="list-item">
			<div class="item-left">
				<div class="left-text" style="margin-left: 0;">
					<div class="title-area">
						<div class="title" style="max-width: 900px;font-size: 15px;" (click)='goHomeUrl(result.videoUrl)'>
							<span nz-tooltip [nzTooltipTitle]="result.previewTitle">
								{{result.previewTitle}}
							</span>
						</div>
					</div>
					<div class="subTitle">
						<!-- 点赞数 -->
						<div style="display: flex;align-items: center;">
							<span nz-tooltip [nzTooltipTitle]="'视频获赞数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/dianzan.svg" class="icon2" />
									{{common.toThousands(result.diggCount)}}
								</div>
							</span>
						</div>
						<!-- 视频评论数 -->
						<div style="display: flex;align-items: center;margin-left:12px;">
							<span nz-tooltip [nzTooltipTitle]="'视频评论数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/pinglun.svg" class="icon2" />
									{{common.toThousands(result.commentCount)}}
								</div>
							</span>
						</div>
						<!-- 视频收藏数 -->
						<div style="display: flex;align-items: center;margin-left:12px;">
							<span nz-tooltip [nzTooltipTitle]="'视频收藏数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/shoucang.svg" class="icon2" />
									{{common.toThousands(result.collectCount)}}
								</div>
							</span>
						</div>
						<!-- 视频分享数 -->
						<div style="display: flex;align-items: center;margin-left:12px;">
							<span nz-tooltip [nzTooltipTitle]="'视频分享数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/fenxiang.svg" class="icon2" />
									{{common.toThousands(result.shareCount)}}
								</div>
							</span>
						</div>
						<!-- 视频播放数 -->
						<div style="display: flex;align-items: center;margin-left:12px;">
							<span nz-tooltip [nzTooltipTitle]="'视频播放数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/bofang.svg" class="icon2" />
									{{common.toThousands(result.playCount)}}
								</div>
							</span>
						</div>
						<!-- 待定 -->
						<div style="display: flex;align-items: center;margin-left:12px;">
							<span nz-tooltip [nzTooltipTitle]="'待定'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/daiding.svg" class="icon2" />
									{{common.toThousands(result.admireCount)}}
								</div>
							</span>
						</div>
					</div>
					<div class="subTitle">
						<div style="display: flex;align-items: center;">
							<div>
								<span style="color:#000;">发布时间：</span>{{common.getTime(result.createTime*1000)}}
							</div>
							<div style="margin-left: 18px;">
								<span style="color:#000;">声源：</span>{{result.title}}
							</div>
						</div>
					</div>
				</div>

			</div>
			<div class="item-center">

			</div>
			<div class="item-right">
				<div class='right-btn' (click)='common.copy(result.videoUrl)'>
					<span nz-icon nzType="share-alt" nzTheme="outline" style='font-size:24px;'></span>
					<div>
						复制链接
					</div>
				</div>
				<div class='right-btn' style='margin-left:12px;' (click)='douyin_videoisListen()'>
					<img src="../../../assets/img/addVideo.svg" class="icon"
						style='margin-right:0;width: 24px;height: 24px;' />
					<div>
						监控视频
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- 作者信息 -->
	<div class="list" *ngIf='BloggerInfo.nickName'>
		<div style="margin-bottom: 12px;">
			作者信息：
		</div>
		<div class="list-item">
			<div class="item-left">
				<div>
					<img nz-image width="64px" height="64px" [nzSrc]="BloggerInfo.urlList" style="border-radius: 50%;"
						[nzFallback]="fallback" alt="" />
				</div>
				<div class="left-text">
					<div class="title-area">
						<div class="title" (click)='goHomeUrl(BloggerInfo.homeUrl)'>
							<span nz-tooltip [nzTooltipTitle]="BloggerInfo.nickName">
								{{BloggerInfo.nickName}}
							</span>
						</div>
						<div class="signature" style="margin-left: 6px;">
							<span nz-tooltip [nzTooltipTitle]="BloggerInfo.signature">
								{{BloggerInfo.signature}}
							</span>
						</div>
					</div>
					<div class="subTitle">
						<!-- 达人点赞数 -->
						<div style="display: flex;align-items: center;">
							<span nz-tooltip [nzTooltipTitle]="'达人获赞数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/dianzan.svg" class="icon" />
									{{common.toThousands(BloggerInfo.totalFavorited)}}
								</div>
							</span>
						</div>
						<!-- 达人粉丝数 -->
						<div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人粉丝数'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/FANS.svg" class="icon" />
									{{common.toThousands(BloggerInfo.followerCount)}}
								</div>
							</span>
						</div>
						<!-- 达人年龄 -->
						<div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人年龄'">
								<div style="display: flex;align-items: center;">
									<img src="../../../assets/img/age.svg" class="icon" />
									{{BloggerInfo.userAge}}
								</div>
							</span>

						</div>
					</div>
					<div class="subTitle">
						<div style="display: flex;align-items: center;">
							<div>
								<span style="color:#000;">抖音号：</span>{{BloggerInfo.uniqueId}}
							</div>
							<span nz-tooltip [nzTooltipTitle]="'点击复制'">
								<div style="margin-left: 18px;cursor: pointer;"
									(click)='common.copy(BloggerInfo.secUid)'>
									<span style="color:#000;">抖音Id：</span>{{BloggerInfo.secUid}}
								</div>
							</span>
						</div>
					</div>
				</div>

			</div>
			<div class="item-center">

			</div>
			<div class="item-right">
				<div class='right-btn' (click)='common.copy(BloggerInfo.homeUrl)'>
					<span nz-icon nzType="share-alt" nzTheme="outline" style='font-size:24px;'></span>
					<div>
						复制链接
					</div>
				</div>
				<div class='right-btn' style='margin-left:12px;' (click)='listenDaren(BloggerInfo)'>
					<span nz-icon nzType="user-add" nzTheme="outline" style='font-size:24px;'></span>
					<div>
						监控达人
					</div>
				</div>
			</div>
		</div>
	</div>

	<ngx-loading *ngIf='loading'></ngx-loading>
	<!-- 监控达人 -->
	<nz-modal [(nzVisible)]="isVisible" [nzFooter]='null' (nzOnCancel)='handleCancel()' [nzClosable]='false'
		nzTitle="抖音达人数据监控申请">
		<ng-container *nzModalContent>
			<p>输入达人的微信或手机号码</p>
			<input [disabled]='result.BloggerInfo.isListen' nz-input placeholder="微信/电话" [(ngModel)]="information" />
			<!-- 艺人主页 Home -->
			<p style="margin-top:14px;">艺人主页</p>
			<input [disabled]='BloggerInfo.isListen' nz-input placeholder="艺人主页" [(ngModel)]="Home" />
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 艺人类型 Type -->
					<p>艺人类型</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="艺人类型" [(ngModel)]="Type" />
				</div>
				<div>
					<!-- 艺人风格 Style -->
					<p>艺人风格</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="艺人风格" [(ngModel)]="Style" />
				</div>
				<div>
					<!-- 嗓音特点 Characteristics -->
					<p>嗓音特点</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="嗓音特点"
						[(ngModel)]="Characteristics" />
				</div>
			</div>
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 翻唱唱酬 Vocals -->
					<p>翻唱唱酬</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="翻唱唱酬" [(ngModel)]="Vocals" />
				</div>
				<div>
					<!-- 翻唱分成 Split -->
					<p>翻唱分成</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="翻唱分成" [(ngModel)]="Split" />
				</div>
				<div>
					<p>性别</p>
					<nz-select nzPlaceHolder='性别' [(ngModel)]="Sex" [nzDisabled]='BloggerInfo.isListen'>
						<nz-option *ngFor="let l of sexList;" [nzValue]="l.value" [nzLabel]="l.label"></nz-option>
					</nz-select>
				</div>
			</div>
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 原创唱酬 Original -->
					<p>原创唱酬</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="原创唱酬" [(ngModel)]="Original" />
				</div>
				<div>
					<!-- 原创分成 OriginalShare -->
					<p>原创分成</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="原创分成" [(ngModel)]="OriginalShare" />
				</div>
				<div>
					<!-- 翻唱视频费用 Fees -->
					<p>翻唱视频费用</p>
					<input [disabled]='BloggerInfo.isListen' nz-input placeholder="翻唱视频费用" [(ngModel)]="Fees" />
				</div>
			</div>
			<!-- 备注  Note -->
			<p style="margin-top:10px;">备注</p>
			<input [disabled]='BloggerInfo.isListen' nz-input placeholder="备注" [(ngModel)]="Note" />

			<div *ngIf='BloggerInfo.isListen'
				style='display:flex;align-items:center;justify-content:center;margin-top:12px;'>
				该达人已添加监控。
			</div>
			<div class='modalBtns'>
				<button class='btnCancel' (click)='handleCancel()'>
					取消
				</button>
				<button (click)='handleOk()' *ngIf='!result.BloggerInfo.isListen' class='btnConfirm'>
					录入
				</button>
				<button *ngIf='BloggerInfo.isListen' class='btnConfirm btnDis'>
					录入
				</button>
			</div>
		</ng-container>
	</nz-modal>
	<!-- 监控视频 -->
	<nz-modal [(nzVisible)]="isVisible2" [nzFooter]='null' (nzOnCancel)='handleCancel2()' [nzClosable]='false'
		nzTitle="抖音视频数据监控申请">
		<ng-container *nzModalContent>
			<p>输入视频期望点赞</p>
			<input [disabled]='result.isListenVideo' nz-input placeholder="期望点赞" [(ngModel)]="expectations" />
			<div style="margin-top:12px;">
				<div style="display: flex;align-items: center;">
					<p>是否监控评论</p>
					<p style="cursor: pointer;color:#ccc;font-size: 12px;margin-left: 8px;" (click)='useAuthorSecUid()'>
						使用作者id</p>
				</div>
				<div style="display: flex;align-items: center;">
					<input [disabled]='result.isListenVideo||!watchComment' nz-input placeholder="抖音Id"
						[(ngModel)]="commentSecUid" />
					<nz-switch [nzDisabled]='result.isListenVideo' [(ngModel)]="watchComment" nzCheckedChildren="是"
						nzUnCheckedChildren="否"></nz-switch>
				</div>
			</div>
			<div style="margin-top:12px;">
				<p>位置</p>
				<div>
					<nz-select [(ngModel)]="position" [nzDisabled]='result.isListenVideo||!watchComment'>
						<nz-option *ngFor="let l of positionList;" [nzValue]="l.value" [nzLabel]="l.label"></nz-option>
					</nz-select>
				</div>
			</div>
			<div style="margin-top:12px;">
				<p>评论话术关键词</p>
				<div>
					<input [disabled]='result.isListenVideo||!watchComment' nz-input placeholder="多个关键词请用 , 隔开"
						[(ngModel)]="commentText" />
				</div>
			</div>
			<div *ngIf='result.isListenVideo'
				style='display:flex;align-items:center;justify-content:center;margin-top:12px;'>
				该视频已添加监控。
			</div>
			<div class='modalBtns'>
				<button class='btnCancel' (click)='handleCancel2()'>
					取消
				</button>
				<button (click)='handleOk2()' *ngIf='!result.isListenVideo' class='btnConfirm'>
					录入
				</button>
				<button *ngIf='result.isListenVideo' class='btnConfirm btnDis'>
					录入
				</button>
			</div>
		</ng-container>
	</nz-modal>
</div>
