<div class="douyin">
	
	<div>
		<ngx-search [searchValue]='searchValue' [searchHolder]='searchHolder' (childSearch)='search($event)'>
		</ngx-search>
	</div>
	<nz-empty *ngIf="list.length==0" style="margin-top: 160px;"></nz-empty>
	<div class="list" *ngIf='list.length!=0'>
		<div class="list-item" *ngFor="let item of list;let i =index;">
			<div class="item-left">
				<div>
					<img nz-image width="64px" height="64px" [nzSrc]="item.urlList" style="border-radius: 50%;" [nzFallback]="fallback" alt="" />
				</div>
				<div class="left-text">
					<div class="title-area">
						<div class="title" (click)='goHomeUrl(item.homeUrl)'>
							<span nz-tooltip [nzTooltipTitle]="item.nickName">
								{{item.nickName}}
							</span>
						</div>
						<div class="signature" style="margin-left: 6px;">
							<span nz-tooltip [nzTooltipTitle]="item.signature">
								{{item.signature}}
							</span>
						</div>
					</div>
					<div class="subTitle">
						<!-- 达人点赞数 -->
						<div style="display: flex;align-items: center;">
							<span nz-tooltip [nzTooltipTitle]="'达人获赞数'">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/dianzan.svg" class="icon" />
								{{common.toThousands(item.totalFavorited)}}
							</div>
							</span>
						</div>
						<!-- 达人粉丝数 -->
						<div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人粉丝数'">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/FANS.svg" class="icon" />
								{{common.toThousands(item.followerCount)}}
							</div>
							</span>
							<!-- <span nz-icon nzType="right" nzTheme="outline" style='color:#ccc;'></span> -->
							
						</div>
						<!-- 达人关注数 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人关注数: '+item.Weighting.follow[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/guanzhu.svg" class="icon" />
								{{item.Weighting.follow[0]}}
							</div>
							</span>
						</div> -->
						<!-- 达人作品数 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人作品数: '+item.Weighting.works[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/zuopin.svg" class="icon" />
								{{item.Weighting.works[0]}}
							</div>
							</span>
						</div> -->
						<!-- 推荐价格 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'推荐价格: '+item.Weighting.valuation[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/price-default.png" class="icon" />
								{{item.Weighting.valuation[0]}}
							</div>
							</span>
						</div> -->
						<!-- 账号分数 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'账号分数: '+item.Weighting.score[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/fenshu.svg" class="icon" />
								{{item.Weighting.score[0]}}
							</div>
							</span>
						</div> -->
						<!-- 账号指数 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'账号指数: '+item.Weighting.index[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/zhishu.svg" class="icon" />
								{{item.Weighting.index[0]}}
							</div>
							</span>
						</div> -->
						<!-- IP属地 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'达人IP属地: '+item.Weighting.location[1]">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/ipshudi.svg" class="icon" />
								{{item.Weighting.location[0]}}
							</div>
							</span>
						</div> -->
					</div>
					<div class="subTitle">
						<div style="display: flex;align-items: center;">
							<div>
								<span style="color:#000;">抖音号：</span>{{item.uniqueId}}
							</div>
							<!-- <div style='margin-left:4px;'>
								<span style="color:#000;">抖音ID：</span>{{item.AwemeId}}
							</div> -->
						</div>
						<!-- 推荐抖+ -->
						<!-- <div style="display: flex;align-items: center;margin-left:4px;">
							<span nz-tooltip [nzTooltipTitle]="'推荐抖+'">
							<div style="display: flex;align-items: center;">
								{{item.Weighting.label}}{{' 建议 '+item.Weighting.flow[1]}}
							</div>
							</span>
						</div> -->
						<!-- 权重等级 -->
						<!-- <div style="display: flex;align-items: center;margin-left:6px;">
							<span nz-tooltip [nzTooltipTitle]="'权重等级'">
							<div style="display: flex;align-items: center;">
								<img src="../../../assets/img/quanzhong.svg" class="icon" />
								{{item.Weighting.weight}}
							</div>
							</span>
						</div> -->
					</div>
				</div>
				
			</div>
			<div class="item-center">
				
			</div>
			<div class="item-right">
				<div class='right-btn' (click)='common.copy(item.homeUrl)'>
					<span nz-icon nzType="share-alt" nzTheme="outline" style='font-size:24px;'></span>
					<div>
						复制链接
					</div>
				</div>
				<div class='right-btn' style='margin-left:12px;' (click)='listenDaren(item,i)'>
					<span nz-icon nzType="user-add" nzTheme="outline" style='font-size:24px;'></span>
					<div>
						监控达人
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- 分页 -->
	<div class="pagination">
		<span *ngIf='list.length>0' nz-icon nzType="down-circle" nzTheme="twotone"
			(click)='pageNext()' style="cursor: pointer;"></span>
	</div>
	<ngx-loading *ngIf='loading'></ngx-loading>
	<nz-modal [(nzVisible)]="isVisible" [nzFooter]='null' (nzOnCancel)='handleCancel()'  [nzClosable]='false' nzTitle="抖音达人数据监控申请" >
	      <ng-container *nzModalContent>
	        <p>输入达人的微信或手机号码</p>
	        <input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="微信/电话" [(ngModel)]="information" />
	        <!-- 艺人主页 Home -->
			<p style="margin-top:14px;">艺人主页</p>
			<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="艺人主页" [(ngModel)]="Home" />
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 艺人类型 Type -->
					<p>艺人类型</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="艺人类型" [(ngModel)]="Type" />
				</div>
				<div>
					<!-- 艺人风格 Style -->
					<p>艺人风格</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="艺人风格" [(ngModel)]="Style" />
				</div>
				<div>
					<!-- 嗓音特点 Characteristics -->
					<p>嗓音特点</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="嗓音特点" [(ngModel)]="Characteristics" />
				</div>
			</div>
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 翻唱唱酬 Vocals -->
					<p>翻唱唱酬</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="翻唱唱酬" [(ngModel)]="Vocals" />
				</div>
				<div>
					<!-- 翻唱分成 Split -->
					<p>翻唱分成</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="翻唱分成" [(ngModel)]="Split" />
				</div>
				<div>
					<p>性别</p>
					<nz-select [(ngModel)]="Sex" [nzDisabled]='selectIndex===""?true:list[selectIndex].isListen'>
						<nz-option *ngFor="let l of sexList;" [nzValue]="l.value" [nzLabel]="l.label"></nz-option>
					</nz-select>
				</div>
			</div>
			<div style="display:flex;justify-content: space-between;margin-top:14px;">
				<div>
					<!-- 原创唱酬 Original -->
					<p>原创唱酬</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="原创唱酬" [(ngModel)]="Original" />
				</div>
				<div>
					<!-- 原创分成 OriginalShare -->
					<p>原创分成</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="原创分成" [(ngModel)]="OriginalShare" />
				</div>
				<div>
					<!-- 翻唱视频费用 Fees -->
					<p>翻唱视频费用</p>
					<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="翻唱视频费用" [(ngModel)]="Fees" />
				</div>
			</div>
			<!-- 备注  Note -->
			<p style="margin-top:10px;">备注</p>
			<input [disabled]='selectIndex===""?true:list[selectIndex].isListen' nz-input placeholder="备注" [(ngModel)]="Note" />
			
			<div *ngIf='selectIndex===""?false:list[selectIndex].isListen' style='display:flex;align-items:center;justify-content:center;margin-top:12px;'>
				该达人已添加监控。
			</div>
			<div class='modalBtns'>
				<button class='btnCancel' (click)='handleCancel()'>
					取消
				</button>
				<button (click)='handleOk()' *ngIf='selectIndex===""?false:!list[selectIndex].isListen' class='btnConfirm'>
					录入
				</button>
				<button *ngIf='selectIndex===""?true:list[selectIndex].isListen' class='btnConfirm btnDis'>
					录入
				</button>
			</div>
	      </ng-container>
	    </nz-modal>
</div>